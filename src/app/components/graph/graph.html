<svg [attr.width]="800" [attr.viewBox]="viewBox()" preserveAspectRatio="xMidYMid meet" style="border:1px solid #ccc">
  <defs>
    <pattern id="gridPattern"
             patternUnits="userSpaceOnUse"
             patternContentUnits="userSpaceOnUse"
             width="1"
             height="1">
      <line x1="0" y1="0" x2="1" y2="0" stroke="#e6e6e6" stroke-width="0.05" />
      <line x1="0" y1="0" x2="0" y2="1" stroke="#e6e6e6" stroke-width="0.05" />
    </pattern>
  </defs>

  <rect [attr.x]="minX - 0.5" [attr.y]="minY - 0.5" width="100%" height="100%" fill="url(#gridPattern)"></rect>

  <!-- Kanten -->
  @for (edge of graph.edges; track edge) {
    <path [attr.d]="getEdgePath(edge)" stroke="black" stroke-width="0.05" fill="transparent"></path>
  }

  <!-- Knoten -->
  @for (node of graph.nodes; track node.id) {
    <g (click)="onNodeClick(node)">
      <circle [attr.cx]="node.x" [attr.cy]="node.y" r="0.35" fill="skyblue"/>
      <text [attr.x]="node.x" [attr.y]="node.y" text-anchor="middle" dy=".3em" font-size="0.3">{{ node.id }}</text>
    </g>
  }
</svg>
